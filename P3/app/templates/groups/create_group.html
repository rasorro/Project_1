{% extends 'base.html' %}

{% block header %}
  <h1>Create New Group</h1>
{% endblock %}

{% block content %}
  <form method="post">
    <label for="name">Group Name</label>
    <input type="text" name="name" id="name" required>

    <label for="description">Description</label>
    <textarea name="description" id="description"></textarea>

    <label for="website">Website</label>
    <input type="text" name="website" id="website" placeholder="e.g. www.example.com">

    <label for="address">Address</label>
    <input type="text" name="address" id="address">

    <label for="category_id">Category</label>
    <select name="category_id" id="category_id" required>
      {% for cat in categories %}
        <option value="{{ cat.ID }}">{{ cat.Name }}</option>
      {% endfor %}
    </select>

    <label>
      <input type="checkbox" name="affiliated" id="affiliated" onchange="toggleCollege(this)">
      Affiliated with a College
    </label>

    <label for="college">College</label>
    <input type="text" name="college" id="college" placeholder="e.g. Boston University">

    <label>
      <input type="checkbox" name="requires_dues">
      Requires Dues
    </label>

    <label for="skill_level">Skill Level</label>
    <select name="skill_level" id="skill_level" required>
      <option value="beginner">Beginner</option>
      <option value="intermediate">Intermediate</option>
      <option value="advanced">Advanced</option>
    </select>

    <input type="submit" value="Create Group">
  </form>

  <script>
    function toggleCollege(box) {
      const collegeInput = document.getElementById('college');
      collegeInput.disabled = !box.checked;
      if (!box.checked) {
        collegeInput.value = '';
      }
    }

    window.onload = () => {
      toggleCollege(document.getElementById('affiliated'));
    };
  </script>
{% endblock %}
